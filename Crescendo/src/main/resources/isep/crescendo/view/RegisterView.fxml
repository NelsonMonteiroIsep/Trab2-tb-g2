<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>

<StackPane xmlns:fx="http://javafx.com/fxml"
           fx:controller="isep.crescendo.controller.UserManagementController"
           prefWidth="800" prefHeight="600"
           styleClass="root"
           fx:id="root">

    <ImageView fx:id="backgroundImageView" opacity="0.1" preserveRatio="false" />

    <StackPane alignment="CENTER">
        <VBox fx:id="loginVBox" styleClass="fields-background"
              spacing="10" alignment="CENTER"
              maxWidth="400" minWidth="200" prefWidth="300"
              visible="true" managed="true"> <Label text="Login" styleClass="title-label"/>

            <HBox alignment="CENTER_LEFT" spacing="5" maxWidth="400" minWidth="200" prefWidth="300" styleClass="input-container">
                <TextField fx:id="emailFieldLogin" promptText="Email" styleClass="transparent-input"/> </HBox>

            <HBox alignment="CENTER_LEFT" spacing="5" maxWidth="400" minWidth="200" prefWidth="300" styleClass="input-container">
                <PasswordField fx:id="passwordFieldLogin" promptText="Password" styleClass="transparent-input"/> </HBox>

            <Button text="Login" onAction="#handleLogin"
                    maxWidth="400" minWidth="200" prefWidth="300" styleClass="login-button"/>

            <Label fx:id="messageLabel" textFill="red"/>

            <HBox alignment="CENTER" spacing="5">
                <Label text="Ainda não tem conta?" styleClass="link-label"/>
                <Hyperlink text="Registar aqui" onAction="#handleGoToRegister" styleClass="link-label"/>
            </HBox>

            <Hyperlink text="Esqueceu a password?" onAction="#handleGoToRecovery" styleClass="link-label"/>
        </VBox>


        <VBox fx:id="registerVBox" styleClass="fields-background"
              spacing="10" alignment="CENTER"
              maxWidth="400" minWidth="200" prefWidth="300"
              visible="false" managed="false"> <Label text="Registar Utilizador" styleClass="title-label"/>

            <HBox alignment="CENTER_LEFT" spacing="5" maxWidth="400" minWidth="200" prefWidth="300" styleClass="input-container">
                <TextField fx:id="nameFieldRegister" promptText="Nome completo" styleClass="transparent-input"/> </HBox>

            <HBox alignment="CENTER_LEFT" spacing="5" maxWidth="400" minWidth="200" prefWidth="300" styleClass="input-container">
                <TextField fx:id="emailFieldRegister" promptText="Email" styleClass="transparent-input"/> </HBox>

            <HBox alignment="CENTER_LEFT" spacing="5" maxWidth="400" minWidth="200" prefWidth="300" styleClass="input-container">
                <PasswordField fx:id="passwordFieldRegister" promptText="Password" styleClass="transparent-input"/> </HBox>

            <Button text="Registar" onAction="#handleRegister"
                    maxWidth="400" minWidth="200" prefWidth="300" styleClass="login-button"/>

            <Label fx:id="messageLabelRegister" textFill="red"/> <Hyperlink text="← Já tem conta? Faça login" onAction="#handleGoToLogin" styleClass="link-label"/>
        </VBox>


        <VBox fx:id="recoveryVBox" styleClass="fields-background"
              spacing="10" alignment="CENTER"
              maxWidth="400" minWidth="200" prefWidth="300"
              visible="false" managed="false"> <Label text="Recuperar Password" styleClass="title-label"/>

            <HBox alignment="CENTER_LEFT" spacing="5" maxWidth="400" minWidth="200" prefWidth="300" styleClass="input-container">
                <TextField fx:id="emailFieldRecovery" promptText="Email de recuperação" styleClass="transparent-input"/> </HBox>

            <Button text="Recuperar" onAction="#handleRecoverPassword"
                    maxWidth="400" minWidth="200" prefWidth="300" styleClass="login-button"/>

            <Label fx:id="recoveryMessageLabel" textFill="red"/> <Hyperlink text="← Voltar ao Login" onAction="#handleGoToLogin" styleClass="link-label"/>
        </VBox>
    </StackPane>
</StackPane>