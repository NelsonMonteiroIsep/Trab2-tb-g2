<?xml version="1.0" encoding="utf-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<BorderPane fx:controller="isep.crescendo.controller.AdminController"
            prefHeight="800.0" prefWidth="1200.0"
            style="-fx-background-color: linear-gradient(to bottom, #1e1e1e, #2c2c2c);"
            xmlns:fx="http://javafx.com/fxml">

    <center>
        <VBox alignment="TOP_CENTER" spacing="20" style="-fx-padding: 40;">

            <!-- Caixa principal -->
            <VBox spacing="20" style="-fx-background-color: #2b2b2b;
                                      -fx-background-radius: 15;
                                      -fx-padding: 30;
                                      -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.5), 10, 0.5, 0, 0);">

                <!-- Título -->
                <Label style="-fx-font-size: 36px;
                              -fx-font-weight: bold;
                              -fx-text-fill: #ffffff;"
                       text="Gestão de Utilizadores"/>

                <!-- Filtro -->
                <HBox maxWidth="800" spacing="10" alignment="CENTER">
                    <TextField HBox.hgrow="ALWAYS"
                               fx:id="filterField"
                               promptText="Pesquisar por nome ou email..."
                               style="-fx-background-radius: 10;
                                      -fx-padding: 10;
                                      -fx-background-color: #3c3c3c;
                                      -fx-text-fill: white;
                                      -fx-prompt-text-fill: #aaaaaa;"/>
                    <Button onAction="#handlePesquisar"
                            style="-fx-background-color: #00bfa5;
                                   -fx-text-fill: white;
                                   -fx-background-radius: 10;
                                   -fx-font-weight: bold;"
                            text="Pesquisar"/>
                </HBox>

                <!-- Tabela de Utilizadores -->
                <TableView fx:id="userTable"
                           prefHeight="450" prefWidth="800"
                           style="-fx-background-color: #1e1e1e;
                                  -fx-control-inner-background: #1e1e1e;
                                  -fx-text-fill: white;
                                  -fx-table-cell-border-color: #3a3a3a;
                                  -fx-table-header-border-color: transparent;">
                    <columns>
                        <TableColumn fx:id="idColumn" prefWidth="50" text="ID"/>
                        <TableColumn fx:id="nomeColumn" prefWidth="200" text="Nome"/>
                        <TableColumn fx:id="emailColumn" prefWidth="300" text="Email"/>
                        <TableColumn fx:id="isAdminColumn" prefWidth="100" text="Admin"/>
                    </columns>
                </TableView>

                <!-- Botões -->
                <HBox alignment="CENTER" spacing="15">
                    <Button onAction="#handleEditarNome"
                            style="-fx-background-color: #546e7a;
                                   -fx-text-fill: white;
                                   -fx-background-radius: 8;
                                   -fx-padding: 8 16;
                                   -fx-font-weight: bold;"
                            text="Editar Nome"/>

                    <Button onAction="#handleEditarEmail"
                            style="-fx-background-color: #546e7a;
                                   -fx-text-fill: white;
                                   -fx-background-radius: 8;
                                   -fx-padding: 8 16;
                                   -fx-font-weight: bold;"
                            text="Editar Email"/>

                    <Button onAction="#handleTornarAdmin"
                            style="-fx-background-color: #388e3c;
                                   -fx-text-fill: white;
                                   -fx-background-radius: 8;
                                   -fx-padding: 8 16;
                                   -fx-font-weight: bold;"
                            text="Tornar Admin"/>

                    <Button onAction="#handleApagarUtilizador"
                            style="-fx-background-color: #d32f2f;
                                   -fx-text-fill: white;
                                   -fx-background-radius: 8;
                                   -fx-padding: 8 16;
                                   -fx-font-weight: bold;"
                            text="Apagar Utilizador"/>
                </HBox>

            </VBox> <!-- Caixa principal -->

        </VBox> <!-- VBox center -->

    </center>
</BorderPane>
